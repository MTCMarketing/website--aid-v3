{"version":3,"file":"component---src-pages-buy-tsx-18433b5c558d13f1bd74.js","mappings":"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","sources":["webpack:///./node_modules/lucide-react/dist/esm/icons/arrow-left.js","webpack:///./src/aid/components/pages/Buy.tsx","webpack:///./src/pages/buy.tsx","webpack:///./src/aid/database/UniversalLink.tsx","webpack:///./node_modules/lucide-react/dist/esm/icons/check.js","webpack:///./node_modules/lucide-react/dist/esm/icons/sparkles.js","webpack:///./src/aid/database/routerViteGatsbyUniversal.ts","webpack:///./node_modules/lucide-react/dist/esm/icons/shield-check.js","webpack:///./src/aid/services/api.ts","webpack:///./node_modules/lucide-react/dist/esm/shared/src/utils.js","webpack:///./node_modules/lucide-react/dist/esm/defaultAttributes.js","webpack:///./node_modules/lucide-react/dist/esm/Icon.js","webpack:///./node_modules/lucide-react/dist/esm/createLucideIcon.js"],"sourcesContent":["/**\n * @license lucide-react v0.548.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m12 19-7-7 7-7\", key: \"1l729n\" }],\n  [\"path\", { d: \"M19 12H5\", key: \"x3x0zl\" }]\n];\nconst ArrowLeft = createLucideIcon(\"arrow-left\", __iconNode);\n\nexport { __iconNode, ArrowLeft as default };\n//# sourceMappingURL=arrow-left.js.map\n","import React, { useState, useEffect } from \"react\";\nimport { ArrowLeft, ShieldCheck, Sparkles, Check } from \"lucide-react\";\nimport \"../../styles/dashboard.css\";\nimport { useLanguage } from \"../../i18n/LanguageContext\";\nimport * as api from \"../../services/api\";\nimport { CreditPackage } from \"../../types/schema\";\n\nimport { UniversalLink as Link } from \"../../database/UniversalLink\";\nimport { useUniversalRouter } from \"../../database/routerViteGatsbyUniversal\";\n\nexport function BuyPage() {\n  const { go } = useUniversalRouter();\n  const { t, language } = useLanguage();\n\n  const [packages, setPackages] = useState<CreditPackage[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const loadPackages = async () => {\n      try {\n        const data = await api.getCreditPackages();\n        setPackages(data);\n      } catch (err) {\n        console.error(\"Failed to load packages\", err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadPackages();\n  }, []);\n\n  const handleCheckout = (pkgId: string) => {\n    go(`/checkout?plan=${pkgId}`);\n  };\n\n  const getPackageName = (pkg: CreditPackage) =>\n    language === \"vn\" ? pkg.name_vi : pkg.name_en;\n\n  const formatPrice = (price: number) =>\n    new Intl.NumberFormat(\"vi-VN\", {\n      style: \"currency\",\n      currency: \"VND\",\n    }).format(price);\n\n  return (\n    <div className=\"app-container\">\n      <header className=\"app-top-bar\">\n        <div className=\"top-bar-inner\">\n          <Link to=\"/app\" className=\"top-bar-logo\">\n            <ArrowLeft size={20} />\n            <span>{t(\"buy.back\")}</span>\n          </Link>\n        </div>\n      </header>\n\n      <div className=\"app-bg-glow\"></div>\n\n      <main className=\"app-main\" style={{ paddingBottom: \"100px\" }}>\n        <div className=\"app-content-column\" style={{ maxWidth: \"1000px\" }}>\n          <div\n            className=\"buy-header-section\"\n            style={{ textAlign: \"center\", marginBottom: \"60px\" }}\n          >\n            <h1 className=\"dashboard-title\">{t(\"buy.title\")}</h1>\n            <p style={{ color: \"#94a3b8\", fontSize: \"1.1rem\" }}>\n              {t(\"buy.subtitle\")}\n            </p>\n          </div>\n\n          {isLoading ? (\n            <div style={{ textAlign: \"center\", padding: \"40px\", color: \"#64748b\" }}>\n              Loading packages...\n            </div>\n          ) : (\n            <>\n              <div\n                className=\"pricing-group-label\"\n                style={{\n                  textAlign: \"left\",\n                  width: \"100%\",\n                  marginBottom: \"24px\",\n                  color: \"#3b82f6\",\n                  fontSize: \"0.8rem\",\n                  textTransform: \"uppercase\",\n                  letterSpacing: \"0.1em\",\n                  fontWeight: 800,\n                }}\n              >\n                {t(\"buy.comboPacks\")}\n              </div>\n\n              <div\n                className=\"combo-packs-grid\"\n                style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"repeat(auto-fit, minmax(280px, 1fr))\",\n                  gap: \"24px\",\n                  width: \"100%\",\n                }}\n              >\n                {packages.map((pkg) => (\n                  <div\n                    key={pkg.id}\n                    className=\"pricing-card highlighted\"\n                    onClick={() => handleCheckout(pkg.id)}\n                  >\n                    <div className=\"card-tag\">Best Value</div>\n                    <h3>{getPackageName(pkg)}</h3>\n                    <div className=\"price\">{formatPrice(pkg.price_vnd)}</div>\n                    <ul className=\"card-features\">\n                      <li>\n                        <Check size={14} strokeWidth={3} /> {pkg.credits} Images\n                      </li>\n                      <li>\n                        <Check size={14} strokeWidth={3} /> Full GEM Thinking Access\n                      </li>\n                      <li>\n                        <Check size={14} strokeWidth={3} /> High Speed Generation\n                      </li>\n                    </ul>\n                    <button className=\"checkout-cta-btn\">{t(\"buy.selectPlan\")}</button>\n                  </div>\n                ))}\n              </div>\n            </>\n          )}\n\n          <div\n            className=\"upsell-banner\"\n            style={{\n              marginTop: \"60px\",\n              padding: \"32px\",\n              borderRadius: \"24px\",\n              background: \"rgba(59, 130, 246, 0.05)\",\n              border: \"1px solid rgba(59, 130, 246, 0.2)\",\n              textAlign: \"center\",\n              width: \"100%\",\n            }}\n          >\n            <Sparkles size={24} style={{ color: \"#3b82f6\", marginBottom: \"16px\" }} />\n            <p\n              style={{\n                fontSize: \"1.2rem\",\n                color: \"#f8fafc\",\n                fontWeight: 600,\n                maxWidth: \"600px\",\n                margin: \"0 auto\",\n              }}\n              dangerouslySetInnerHTML={{ __html: t(\"buy.upsell\") }}\n            />\n          </div>\n\n          <div\n            style={{\n              marginTop: \"48px\",\n              color: \"#475569\",\n              fontSize: \"0.85rem\",\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: \"8px\",\n              justifyContent: \"center\",\n            }}\n          >\n            <ShieldCheck size={16} />\n            {t(\"buy.secured\")}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { BuyPage } from \"../aid/components/pages/Buy\";\n\nexport default () => <BuyPage/>","import React from \"react\";\nimport { useUniversalRouter } from \"./routerViteGatsbyUniversal\";\n\ntype UniversalLinkProps = React.AnchorHTMLAttributes<HTMLAnchorElement> & {\n  to: string;\n};\n\nexport const UniversalLink: React.FC<UniversalLinkProps> = ({\n  to,\n  onClick,\n  children,\n  ...rest\n}) => {\n  const { go } = useUniversalRouter();\n\n  const handleClick = (e: React.MouseEvent<HTMLAnchorElement>) => {\n    onClick?.(e);\n    if (e.defaultPrevented) return;\n\n    e.preventDefault();\n    go(to);\n  };\n\n  return (\n    <a href={to} onClick={handleClick} {...rest}>\n      {children}\n    </a>\n  );\n};\n","/**\n * @license lucide-react v0.548.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]];\nconst Check = createLucideIcon(\"check\", __iconNode);\n\nexport { __iconNode, Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.548.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z\",\n      key: \"1s2grr\"\n    }\n  ],\n  [\"path\", { d: \"M20 2v4\", key: \"1rf3ol\" }],\n  [\"path\", { d: \"M22 4h-4\", key: \"gwowj6\" }],\n  [\"circle\", { cx: \"4\", cy: \"20\", r: \"2\", key: \"6kqj1y\" }]\n];\nconst Sparkles = createLucideIcon(\"sparkles\", __iconNode);\n\nexport { __iconNode, Sparkles as default };\n//# sourceMappingURL=sparkles.js.map\n","import { useEffect, useRef } from \"react\";\n\ntype RouteList = any[];\n\nfunction isViteRuntime() {\n  // Vite injects import.meta.env, Gatsby/webpack doesn't\n  try {\n    // eslint-disable-next-line no-eval\n    return !!eval(\"import.meta\")?.env;\n  } catch {\n    return false;\n  }\n}\n\nexport function useUniversalRouter() {\n  const routesRef = useRef<RouteList | null>(null);\n  const gatsbyNavigateRef = useRef<((to: string) => void) | null>(null);\n  const initializedRef = useRef(false);\n\n  useEffect(() => {\n    if (initializedRef.current || typeof window === \"undefined\") return;\n    initializedRef.current = true;\n\n    (async () => {\n      // 1) Gatsby detection (runtime-only, Vite-safe)\n      try {\n        const gatsbyModuleName = \"gatsby\";\n        // eslint-disable-next-line no-eval\n        const gatsby = await eval(`import(${JSON.stringify(gatsbyModuleName)})`);\n\n        if (typeof gatsby.navigate === \"function\") {\n          gatsbyNavigateRef.current = gatsby.navigate;\n          return; // IMPORTANT: stop here in Gatsby\n        }\n      } catch {\n        // not Gatsby\n      }\n\n      // 2) Vite-only: virtual routes\n      if (!isViteRuntime()) return;\n\n      try {\n        // This MUST NOT be a normal import, or Gatsby will parse it and die.\n        // eslint-disable-next-line no-eval\n        const mod = await eval(`import(\"virtual:generated-pages-react\")`);\n        routesRef.current = mod.default;\n      } catch {\n        // not using vite-pages plugin\n      }\n    })();\n  }, []);\n\n  const go = (to: string) => {\n    if (gatsbyNavigateRef.current) {\n      gatsbyNavigateRef.current(to);\n      return;\n    }\n    window.location.assign(to);\n  };\n\n  const getRoutes = () => routesRef.current;\n\n  return { go, getRoutes };\n}\n","/**\n * @license lucide-react v0.548.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",\n      key: \"oel41y\"\n    }\n  ],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n];\nconst ShieldCheck = createLucideIcon(\"shield-check\", __iconNode);\n\nexport { __iconNode, ShieldCheck as default };\n//# sourceMappingURL=shield-check.js.map\n","import type { User, Gem, ImageGeneration, CreditPackage, Locale } from '../types/schema';\n\n// --- MOCK DATA ---\n\nlet currentUser: User = {\n    id: 'user-1',\n    email: 'demo@a.id',\n    display_name: 'Demo User',\n    locale: 'en',\n    image_credits: 2\n};\n\nconst mockGems: Gem[] = [\n    {\n        id: 'gem-idea',\n        title_en: 'GEM Idea',\n        title_vi: 'GEM Ý Tưởng',\n        description_en: 'Brainstorm creative concepts.',\n        description_vi: 'Động não các khái niệm sáng tạo.',\n        prompt_text: 'Generate a detailed visual prompt strategy for:',\n        category: 'thinking',\n        is_free: true\n    },\n    {\n        id: 'gem-scriptwriter',\n        title_en: 'GEM Scriptwriter',\n        title_vi: 'GEM Kịch Bản',\n        description_en: 'Create narrative scripts.',\n        description_vi: 'Tạo kịch bản tường thuật.',\n        prompt_text: 'Write a narrative script for:',\n        category: 'thinking',\n        is_free: true\n    },\n    {\n        id: 'gem-visualizer',\n        title_en: 'GEM Visualizer',\n        title_vi: 'GEM Trực Quan Hóa',\n        description_en: 'Detailed technical visual descriptions.',\n        description_vi: 'Mô tả hình ảnh kỹ thuật chi tiết.',\n        prompt_text: 'Describe the visual technical details for:',\n        category: 'thinking',\n        is_free: true\n    }\n];\n\nconst mockPackages: CreditPackage[] = [\n    {\n        id: 'pack-starter',\n        name_en: 'Starter Pack',\n        name_vi: 'Gói Khởi Động',\n        credits: 40,\n        price_vnd: 59000\n    },\n    {\n        id: 'pack-pro',\n        name_en: 'Pro Pack',\n        name_vi: 'Gói Chuyên Nghiệp',\n        credits: 100,\n        price_vnd: 129000\n    },\n    {\n        id: 'pack-business',\n        name_en: 'Business Pack',\n        name_vi: 'Gói Doanh Nghiệp',\n        credits: 500,\n        price_vnd: 499000\n    }\n];\n\n// --- HELPERS ---\n\nconst delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\n\n// --- EXPORTED API FUNCTIONS ---\n\nexport async function getCurrentUser(): Promise<User> {\n    await delay(300);\n    return { ...currentUser };\n}\n\nexport async function updateUserLocale(locale: Locale): Promise<User> {\n    await delay(200);\n    currentUser.locale = locale;\n    return { ...currentUser };\n}\n\nexport async function getUserCredits(): Promise<number> {\n    await delay(200);\n    return currentUser.image_credits;\n}\n\nexport async function getGems(): Promise<Gem[]> {\n    await delay(400);\n    return [...mockGems];\n}\n\nexport async function getFreeGems(): Promise<Gem[]> {\n    await delay(300);\n    return mockGems.filter(g => g.is_free);\n}\n\nexport async function getCreditPackages(): Promise<CreditPackage[]> {\n    await delay(300);\n    return [...mockPackages];\n}\n\nexport async function createImageGeneration(_prompt: string, _style?: string, _aspectRatio?: string): Promise<ImageGeneration> {\n    await delay(2000); // Simulate rendering time\n\n    if (currentUser.image_credits <= 0) {\n        throw new Error('Insufficient credits');\n    }\n\n    currentUser.image_credits -= 1;\n\n    const newGen: ImageGeneration = {\n        id: `gen-${Date.now()}`,\n        image_url: 'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=1000&auto=format&fit=crop',\n        credits_used: 1,\n        status: 'completed'\n    };\n\n    return newGen;\n}\n\nexport async function createCheckout(packageId: string): Promise<{ checkoutUrl: string }> {\n    await delay(800);\n    const pkg = mockPackages.find(p => p.id === packageId);\n    if (!pkg) throw new Error('Invalid package');\n\n    // In a real app, this would be a Stripe session URL\n    return { checkoutUrl: `/app?checkout_success=true&credits=${pkg.credits}` };\n}\n","/**\n * @license lucide-react v0.548.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst toCamelCase = (string) => string.replace(\n  /^([A-Z])|[\\s-_]+(\\w)/g,\n  (match, p1, p2) => p2 ? p2.toUpperCase() : p1.toLowerCase()\n);\nconst toPascalCase = (string) => {\n  const camelCase = toCamelCase(string);\n  return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);\n};\nconst mergeClasses = (...classes) => classes.filter((className, index, array) => {\n  return Boolean(className) && className.trim() !== \"\" && array.indexOf(className) === index;\n}).join(\" \").trim();\nconst hasA11yProp = (props) => {\n  for (const prop in props) {\n    if (prop.startsWith(\"aria-\") || prop === \"role\" || prop === \"title\") {\n      return true;\n    }\n  }\n};\n\nexport { hasA11yProp, mergeClasses, toCamelCase, toKebabCase, toPascalCase };\n//# sourceMappingURL=utils.js.map\n","/**\n * @license lucide-react v0.548.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.548.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\nimport { mergeClasses, hasA11yProp } from './shared/src/utils.js';\n\nconst Icon = forwardRef(\n  ({\n    color = \"currentColor\",\n    size = 24,\n    strokeWidth = 2,\n    absoluteStrokeWidth,\n    className = \"\",\n    children,\n    iconNode,\n    ...rest\n  }, ref) => createElement(\n    \"svg\",\n    {\n      ref,\n      ...defaultAttributes,\n      width: size,\n      height: size,\n      stroke: color,\n      strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n      className: mergeClasses(\"lucide\", className),\n      ...!children && !hasA11yProp(rest) && { \"aria-hidden\": \"true\" },\n      ...rest\n    },\n    [\n      ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n      ...Array.isArray(children) ? children : [children]\n    ]\n  )\n);\n\nexport { Icon as default };\n//# sourceMappingURL=Icon.js.map\n","/**\n * @license lucide-react v0.548.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport { mergeClasses, toKebabCase, toPascalCase } from './shared/src/utils.js';\nimport Icon from './Icon.js';\n\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ className, ...props }, ref) => createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className\n      ),\n      ...props\n    })\n  );\n  Component.displayName = toPascalCase(iconName);\n  return Component;\n};\n\nexport { createLucideIcon as default };\n//# sourceMappingURL=createLucideIcon.js.map\n"],"names":["ArrowLeft","d","key","BuyPage","go","useUniversalRouter","t","language","useLanguage","packages","setPackages","useState","isLoading","setIsLoading","useEffect","async","data","api","getCreditPackages","err","console","error","loadPackages","React","className","Link","to","size","style","paddingBottom","maxWidth","textAlign","marginBottom","color","fontSize","padding","width","textTransform","letterSpacing","fontWeight","display","gridTemplateColumns","gap","map","pkg","id","onClick","handleCheckout","pkgId","name_vi","name_en","getPackageName","price","price_vnd","Intl","NumberFormat","currency","format","Check","strokeWidth","credits","marginTop","borderRadius","background","border","Sparkles","margin","dangerouslySetInnerHTML","__html","alignItems","justifyContent","ShieldCheck","UniversalLink","_ref","children","rest","href","e","defaultPrevented","preventDefault","cx","cy","r","isViteRuntime","eval","_eval","env","routesRef","useRef","gatsbyNavigateRef","initializedRef","current","window","gatsbyModuleName","gatsby","JSON","stringify","navigate","mod","default","location","assign","getRoutes","currentUser","email","display_name","locale","image_credits","mockGems","title_en","title_vi","description_en","description_vi","prompt_text","category","is_free","mockPackages","delay","ms","Promise","resolve","setTimeout","getCurrentUser","updateUserLocale","getUserCredits","getGems","getFreeGems","filter","g","createImageGeneration","_prompt","_style","_aspectRatio","Error","Date","now","image_url","credits_used","status","createCheckout","packageId","find","p","checkoutUrl","toPascalCase","string","camelCase","replace","match","p1","p2","toUpperCase","toLowerCase","toCamelCase","charAt","slice","mergeClasses","classes","index","array","Boolean","trim","indexOf","join","hasA11yProp","props","prop","startsWith","defaultAttributes","xmlns","height","viewBox","fill","stroke","strokeLinecap","strokeLinejoin","Icon","forwardRef","absoluteStrokeWidth","iconNode","ref","createElement","Number","tag","attrs","Array","isArray","createLucideIcon","iconName","Component","displayName"],"sourceRoot":""}