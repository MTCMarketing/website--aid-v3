{"version":3,"file":"195-eb0d22f2180edd38d4b1.js","mappings":"2YAIA,IAAIA,EAAoB,CACpBC,GAAI,SACJC,MAAO,YACPC,aAAc,YACdC,OAAQ,KACRC,cAAe,GAGnB,MAAMC,EAAkB,CACpB,CACIL,GAAI,WACJM,SAAU,WACVC,SAAU,cACVC,eAAgB,gCAChBC,eAAgB,mCAChBC,YAAa,kDACbC,SAAU,WACVC,SAAS,GAEb,CACIZ,GAAI,mBACJM,SAAU,mBACVC,SAAU,eACVC,eAAgB,4BAChBC,eAAgB,4BAChBC,YAAa,gCACbC,SAAU,WACVC,SAAS,GAEb,CACIZ,GAAI,iBACJM,SAAU,iBACVC,SAAU,oBACVC,eAAgB,0CAChBC,eAAgB,oCAChBC,YAAa,6CACbC,SAAU,WACVC,SAAS,IAIXC,EAAgC,CAClC,CACIb,GAAI,eACJc,QAAS,eACTC,QAAS,gBACTC,QAAS,GACTC,UAAW,MAEf,CACIjB,GAAI,WACJc,QAAS,WACTC,QAAS,oBACTC,QAAS,IACTC,UAAW,OAEf,CACIjB,GAAI,gBACJc,QAAS,gBACTC,QAAS,mBACTC,QAAS,IACTC,UAAW,QAMbC,EAASC,GAAe,IAAIC,QAAQC,GAAWC,WAAWD,EAASF,IAIlEI,eAAeC,IAElB,aADMN,EAAM,KACL,OAAP,UAAYnB,EAChB,CAEOwB,eAAeE,EAAiBtB,GAGnC,aAFMe,EAAM,KACZnB,EAAYI,OAASA,EACd,OAAP,UAAYJ,EAChB,CAEOwB,eAAeG,IAElB,aADMR,EAAM,KACLnB,EAAYK,aACvB,CAEOmB,eAAeI,IAElB,aADMT,EAAM,KACN,GAAN,OAAWb,EACf,CAEOkB,eAAeK,IAElB,aADMV,EAAM,KACLb,EAASwB,OAAOC,GAAKA,EAAElB,QAClC,CAEOW,eAAeQ,IAElB,aADMb,EAAM,KACN,GAAN,OAAWL,EACf,CAEOU,eAAeS,EAAsBC,EAAiBC,EAAiBC,GAG1E,SAFMjB,EAAM,KAERnB,EAAYK,eAAiB,EAC7B,MAAM,IAAIgC,MAAM,wBAGpBrC,EAAYK,eAAiB,EAS7B,MAPgC,CAC5BJ,GAAG,OAAQqC,KAAKC,MAChBC,UAAW,gGACXC,aAAc,EACdC,OAAQ,YAIhB,CAEOlB,eAAemB,EAAeC,SAC3BzB,EAAM,KACZ,MAAM0B,EAAM/B,EAAagC,KAAKC,GAAKA,EAAE9C,KAAO2C,GAC5C,IAAKC,EAAK,MAAM,IAAIR,MAAM,mBAG1B,MAAO,CAAEW,YAAY,sCAAuCH,EAAI5B,QACpE,C","sources":["webpack:///./src/aid/services/api.ts"],"sourcesContent":["import type { User, Gem, ImageGeneration, CreditPackage, Locale } from '../types/schema';\n\n// --- MOCK DATA ---\n\nlet currentUser: User = {\n    id: 'user-1',\n    email: 'demo@a.id',\n    display_name: 'Demo User',\n    locale: 'en',\n    image_credits: 2\n};\n\nconst mockGems: Gem[] = [\n    {\n        id: 'gem-idea',\n        title_en: 'GEM Idea',\n        title_vi: 'GEM Ý Tưởng',\n        description_en: 'Brainstorm creative concepts.',\n        description_vi: 'Động não các khái niệm sáng tạo.',\n        prompt_text: 'Generate a detailed visual prompt strategy for:',\n        category: 'thinking',\n        is_free: true\n    },\n    {\n        id: 'gem-scriptwriter',\n        title_en: 'GEM Scriptwriter',\n        title_vi: 'GEM Kịch Bản',\n        description_en: 'Create narrative scripts.',\n        description_vi: 'Tạo kịch bản tường thuật.',\n        prompt_text: 'Write a narrative script for:',\n        category: 'thinking',\n        is_free: true\n    },\n    {\n        id: 'gem-visualizer',\n        title_en: 'GEM Visualizer',\n        title_vi: 'GEM Trực Quan Hóa',\n        description_en: 'Detailed technical visual descriptions.',\n        description_vi: 'Mô tả hình ảnh kỹ thuật chi tiết.',\n        prompt_text: 'Describe the visual technical details for:',\n        category: 'thinking',\n        is_free: true\n    }\n];\n\nconst mockPackages: CreditPackage[] = [\n    {\n        id: 'pack-starter',\n        name_en: 'Starter Pack',\n        name_vi: 'Gói Khởi Động',\n        credits: 40,\n        price_vnd: 59000\n    },\n    {\n        id: 'pack-pro',\n        name_en: 'Pro Pack',\n        name_vi: 'Gói Chuyên Nghiệp',\n        credits: 100,\n        price_vnd: 129000\n    },\n    {\n        id: 'pack-business',\n        name_en: 'Business Pack',\n        name_vi: 'Gói Doanh Nghiệp',\n        credits: 500,\n        price_vnd: 499000\n    }\n];\n\n// --- HELPERS ---\n\nconst delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\n\n// --- EXPORTED API FUNCTIONS ---\n\nexport async function getCurrentUser(): Promise<User> {\n    await delay(300);\n    return { ...currentUser };\n}\n\nexport async function updateUserLocale(locale: Locale): Promise<User> {\n    await delay(200);\n    currentUser.locale = locale;\n    return { ...currentUser };\n}\n\nexport async function getUserCredits(): Promise<number> {\n    await delay(200);\n    return currentUser.image_credits;\n}\n\nexport async function getGems(): Promise<Gem[]> {\n    await delay(400);\n    return [...mockGems];\n}\n\nexport async function getFreeGems(): Promise<Gem[]> {\n    await delay(300);\n    return mockGems.filter(g => g.is_free);\n}\n\nexport async function getCreditPackages(): Promise<CreditPackage[]> {\n    await delay(300);\n    return [...mockPackages];\n}\n\nexport async function createImageGeneration(_prompt: string, _style?: string, _aspectRatio?: string): Promise<ImageGeneration> {\n    await delay(2000); // Simulate rendering time\n\n    if (currentUser.image_credits <= 0) {\n        throw new Error('Insufficient credits');\n    }\n\n    currentUser.image_credits -= 1;\n\n    const newGen: ImageGeneration = {\n        id: `gen-${Date.now()}`,\n        image_url: 'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=1000&auto=format&fit=crop',\n        credits_used: 1,\n        status: 'completed'\n    };\n\n    return newGen;\n}\n\nexport async function createCheckout(packageId: string): Promise<{ checkoutUrl: string }> {\n    await delay(800);\n    const pkg = mockPackages.find(p => p.id === packageId);\n    if (!pkg) throw new Error('Invalid package');\n\n    // In a real app, this would be a Stripe session URL\n    return { checkoutUrl: `/app?checkout_success=true&credits=${pkg.credits}` };\n}\n"],"names":["currentUser","id","email","display_name","locale","image_credits","mockGems","title_en","title_vi","description_en","description_vi","prompt_text","category","is_free","mockPackages","name_en","name_vi","credits","price_vnd","delay","ms","Promise","resolve","setTimeout","async","getCurrentUser","updateUserLocale","getUserCredits","getGems","getFreeGems","filter","g","getCreditPackages","createImageGeneration","_prompt","_style","_aspectRatio","Error","Date","now","image_url","credits_used","status","createCheckout","packageId","pkg","find","p","checkoutUrl"],"sourceRoot":""}