/*! For license information please see component---src-pages-checkout-tsx-cecf3bc3ef98901e08be.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[195,915],{232:function(e,t,n){n.d(t,{A:function(){return a}});const a=(0,n(9407).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3047:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(6540);function r(){const{0:e,1:t}=(0,a.useState)(()=>"undefined"==typeof window?new URLSearchParams:new URLSearchParams(window.location.search));(0,a.useEffect)(()=>{if("undefined"==typeof window)return;const e=()=>{t(new URLSearchParams(window.location.search))};return e(),window.addEventListener("popstate",e),window.addEventListener("hashchange",e),()=>{window.removeEventListener("popstate",e),window.removeEventListener("hashchange",e)}},[]);const n=(e,n)=>{if("undefined"==typeof window)return;const a=new URLSearchParams(window.location.search);let r,i;r="function"==typeof e?e(a):e,r instanceof URLSearchParams?i=r:(i=new URLSearchParams,Object.entries(r||{}).forEach(e=>{let[t,n]=e;null!=n&&i.set(t,String(n))}));const c=i.toString(),o=window.location.pathname+(c?"?"+c:"")+(window.location.hash||"");null!=n&&n.replace?window.history.replaceState({},"",o):window.history.pushState({},"",o),t(new URLSearchParams(window.location.search))};return(0,a.useMemo)(()=>[e,n],[e])}},3372:function(e,t,n){n.d(t,{A:function(){return o}});var a=n(8587),r=n(6540),i=n(6841);const c=["to","onClick","children"],o=e=>{let{to:t,onClick:n,children:o}=e,s=(0,a.A)(e,c);const{go:l}=(0,i.Y)();return r.createElement("a",Object.assign({href:t,onClick:e=>{null==n||n(e),e.defaultPrevented||(e.preventDefault(),l(t))}},s),o)}},5773:function(e,t,n){n.d(t,{A:function(){return a}});const a=(0,n(9407).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6841:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Y:function(){return useUniversalRouter}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6540);function isViteRuntime(){try{var _eval;return!(null===(_eval=eval("import.meta"))||void 0===_eval||!_eval.env)}catch(_unused){return!1}}function useUniversalRouter(){const routesRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),gatsbyNavigateRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),initializedRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{initializedRef.current||"undefined"==typeof window||(initializedRef.current=!0,(async()=>{try{const gatsbyModuleName="gatsby",gatsby=await eval("import("+JSON.stringify(gatsbyModuleName)+")");if("function"==typeof gatsby.navigate)return void(gatsbyNavigateRef.current=gatsby.navigate)}catch(_unused2){}if(isViteRuntime())try{const mod=await eval('import("virtual:generated-pages-react")');routesRef.current=mod.default}catch(_unused3){}})())},[]);const go=e=>{gatsbyNavigateRef.current?gatsbyNavigateRef.current(e):window.location.assign(e)},getRoutes=()=>routesRef.current;return{go:go,getRoutes:getRoutes}}},8576:function(e,t,n){n.r(t),n.d(t,{createCheckout:function(){return f},createImageGeneration:function(){return p},getCreditPackages:function(){return d},getCurrentUser:function(){return o},getFreeGems:function(){return m},getGems:function(){return u},getUserCredits:function(){return l},updateUserLocale:function(){return s}});let a={id:"user-1",email:"demo@a.id",display_name:"Demo User",locale:"en",image_credits:2};const r=[{id:"gem-idea",title_en:"GEM Idea",title_vi:"GEM Ý Tưởng",description_en:"Brainstorm creative concepts.",description_vi:"Động não các khái niệm sáng tạo.",prompt_text:"Generate a detailed visual prompt strategy for:",category:"thinking",is_free:!0},{id:"gem-scriptwriter",title_en:"GEM Scriptwriter",title_vi:"GEM Kịch Bản",description_en:"Create narrative scripts.",description_vi:"Tạo kịch bản tường thuật.",prompt_text:"Write a narrative script for:",category:"thinking",is_free:!0},{id:"gem-visualizer",title_en:"GEM Visualizer",title_vi:"GEM Trực Quan Hóa",description_en:"Detailed technical visual descriptions.",description_vi:"Mô tả hình ảnh kỹ thuật chi tiết.",prompt_text:"Describe the visual technical details for:",category:"thinking",is_free:!0}],i=[{id:"pack-starter",name_en:"Starter Pack",name_vi:"Gói Khởi Động",credits:40,price_vnd:59e3},{id:"pack-pro",name_en:"Pro Pack",name_vi:"Gói Chuyên Nghiệp",credits:100,price_vnd:129e3},{id:"pack-business",name_en:"Business Pack",name_vi:"Gói Doanh Nghiệp",credits:500,price_vnd:499e3}],c=e=>new Promise(t=>setTimeout(t,e));async function o(){return await c(300),Object.assign({},a)}async function s(e){return await c(200),a.locale=e,Object.assign({},a)}async function l(){return await c(200),a.image_credits}async function u(){return await c(400),[].concat(r)}async function m(){return await c(300),r.filter(e=>e.is_free)}async function d(){return await c(300),[].concat(i)}async function p(e,t,n){if(await c(2e3),a.image_credits<=0)throw new Error("Insufficient credits");a.image_credits-=1;return{id:"gen-"+Date.now(),image_url:"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=1000&auto=format&fit=crop",credits_used:1,status:"completed"}}async function f(e){await c(800);const t=i.find(t=>t.id===e);if(!t)throw new Error("Invalid package");return{checkoutUrl:"/app?checkout_success=true&credits="+t.credits}}},8593:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var a=n(6540);const r=(0,n(9407).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var i=n(232),c=n(5773),o=n(115),s=n(8576),l=n(3372),u=n(6841),m=n(3047);function d(){const{go:e}=(0,u.Y)(),{t:t,language:n}=(0,o.o)(),[d]=(0,m.Z)(),{0:p,1:f}=(0,a.useState)(null),{0:g,1:h}=(0,a.useState)(!0),{0:_,1:y}=(0,a.useState)(!1),E=d.get("plan");(0,a.useEffect)(()=>{(async()=>{if(E)try{const e=(await s.getCreditPackages()).find(e=>e.id===E);f(e||null)}catch(e){console.error("Failed to load package",e)}finally{h(!1)}else h(!1)})()},[E]);const v=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);return g?a.createElement("div",{className:"app-container"},a.createElement("div",{style:{textAlign:"center",padding:"100px",color:"#64748b"}},a.createElement(r,{size:24,className:"animate-spin"}),a.createElement("p",{style:{marginTop:"16px"}},"Loading..."))):E&&p?a.createElement("div",{className:"app-container"},a.createElement("header",{className:"app-top-bar"},a.createElement("div",{className:"top-bar-inner"},a.createElement(l.A,{to:"/buy",className:"top-bar-logo"},a.createElement(i.A,{size:20}),a.createElement("span",null,t("checkout.backToBuy"))))),a.createElement("div",{className:"app-bg-glow"}),a.createElement("main",{className:"app-main"},a.createElement("div",{className:"app-content-column",style:{maxWidth:"600px"}},a.createElement("div",{style:{textAlign:"center",marginBottom:"48px"}},a.createElement("h1",{className:"dashboard-title"},t("checkout.title")),a.createElement("p",{style:{color:"#94a3b8",fontSize:"1.1rem"}},"Complete your payment to unlock professional AI generation")),a.createElement("div",{style:{background:"rgba(255, 255, 255, 0.02)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"20px",padding:"32px",marginBottom:"32px"}},a.createElement("h3",{style:{color:"#3b82f6",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:800,marginBottom:"20px"}},"Order Summary"),a.createElement("div",{style:{marginBottom:"24px"}},a.createElement("h2",{style:{color:"#fff",fontSize:"1.5rem",fontWeight:700,marginBottom:"8px"}},(w=p,"vn"===n?w.name_vi:w.name_en)),a.createElement("p",{style:{color:"#94a3b8",fontSize:"0.9rem",marginBottom:"16px"}},"Professional AI Image Generation Package"),a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},a.createElement(c.A,{size:16,strokeWidth:3,style:{color:"#10b981"}}),a.createElement("span",{style:{color:"#cbd5e1",fontSize:"0.9rem"}},p.credits," High-Quality Images")),a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},a.createElement(c.A,{size:16,strokeWidth:3,style:{color:"#10b981"}}),a.createElement("span",{style:{color:"#cbd5e1",fontSize:"0.9rem"}},"Full GEM Thinking Access")),a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},a.createElement(c.A,{size:16,strokeWidth:3,style:{color:"#10b981"}}),a.createElement("span",{style:{color:"#cbd5e1",fontSize:"0.9rem"}},"Priority GPU Processing")))),a.createElement("div",{style:{borderTop:"1px solid rgba(255, 255, 255, 0.1)",paddingTop:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}},a.createElement("span",{style:{color:"#94a3b8",fontSize:"1rem"}},"Total Amount:"),a.createElement("span",{style:{color:"#fff",fontSize:"1.75rem",fontWeight:800}},v(p.price_vnd)))),a.createElement("div",{style:{display:"flex",gap:"16px",marginBottom:"32px"}},a.createElement("button",{className:"checkout-cta-btn",onClick:()=>{y(!0),setTimeout(()=>{e("/checkout-success?plan="+E)},2e3)},disabled:_,style:{flex:1,background:_?"#1e293b":"linear-gradient(135deg, #2563eb, #3b82f6)",border:"1px solid rgba(59, 130, 246, 0.3)",padding:"18px",fontSize:"1.1rem",fontWeight:700}},_?a.createElement(a.Fragment,null,a.createElement(r,{size:16,className:"animate-spin",style:{marginRight:"8px"}}),t("checkout.processing")):t("checkout.payNow")+" • "+v(p.price_vnd))),a.createElement("div",{style:{textAlign:"center",marginBottom:"24px"}},a.createElement("button",{onClick:()=>{e("/checkout-cancel?plan="+E)},disabled:_,style:{background:"transparent",border:"none",color:"#64748b",cursor:"pointer",fontSize:"0.9rem",textDecoration:"underline"}},t("checkout.cancel")))))):a.createElement("div",{className:"app-container"},a.createElement("header",{className:"app-top-bar"},a.createElement("div",{className:"top-bar-inner"},a.createElement(l.A,{to:"/buy",className:"top-bar-logo"},a.createElement(i.A,{size:20}),a.createElement("span",null,t("checkout.backToBuy"))))),a.createElement("div",{className:"app-bg-glow"}),a.createElement("main",{className:"app-main"},a.createElement("div",{className:"app-content-column",style:{maxWidth:"600px",textAlign:"center"}},a.createElement("h1",{className:"dashboard-title"},t("checkout.missingPlan")),a.createElement("p",{style:{color:"#94a3b8",marginBottom:"32px"}},"Please select a plan first."),a.createElement(l.A,{to:"/buy",className:"checkout-cta-btn"},t("checkout.backToBuy")))));var w}var p=()=>a.createElement(d,null)},9407:function(e,t,n){n.d(t,{A:function(){return l}});var a=n(6540);const r=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),c=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:u,...m},d)=>(0,a.createElement)("svg",{ref:d,...o,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:i("lucide",s),...!l&&!c(m)&&{"aria-hidden":"true"},...m},[...u.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{const n=(0,a.forwardRef)(({className:n,...c},o)=>{return(0,a.createElement)(s,{ref:o,iconNode:t,className:i(`lucide-${l=r(e),l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...c});var l});return n.displayName=r(e),n}}}]);
//# sourceMappingURL=component---src-pages-checkout-tsx-cecf3bc3ef98901e08be.js.map